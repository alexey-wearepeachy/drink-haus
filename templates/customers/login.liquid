<div class="form-success hide" data-reset-success>
  {{ 'customer.recover_password.success' | t }}
</div>


<div class="container">
  <div class="form--small -mx-auto -px-xs" data-login-form>
    {% form 'customer_login', class: 'form' %}
      <header class="{% if form.errors %}has-errors{% endif %}">
        {% if form.errors %}
          <h3>Oops</h3>
          {{ form.errors | default_errors }}
        {% else %}
          <h3>Welcome</h3>
          <p>Please login to continue.</p>
        {% endif %}
      </header>
      
      <div class="input-group">
        <label for="CustomerEmail" class="label-hidden">
          {{ 'customer.login.email' | t }}
        </label>
        <input type="email"
          name="customer[email]"
          id="CustomerEmail"
          class="form-control {% if form.errors contains 'email' %}input-error{% endif %}"
          placeholder="{{ 'customer.login.email' | t }}"
          spellcheck="false"
          autocomplete="off"
          autocapitalize="off"
          autofocus>
      </div>
      
      <div class="input-group">
        <label for="CustomerPassword" class="label-hidden">
          {{ 'customer.login.password' | t }}
        </label>
        <input type="password"
          name="customer[password]"
          id="CustomerPassword"
          class="form-control  {% if form.errors contains 'password' %}input-error{% endif %}"
          placeholder="{{ 'customer.login.password' | t }}">
      </div>
      
      <input type="submit" class="btn btn--full" value="Log In">
    {% endform %}
    
    <div class="-d-flex -f-row -justify-between">
      <div class="col col-xs-12">
        <a class="small tdu text-black" href="/account/register">
          {{ 'layout.customer.create_account' | t }}
        </a>
      </div>
      <div class="col col-xs-12 tar">
        <a class="small tdu text-black" href="#recover" data-recover-toggle>{{ 'customer.login.forgot_password' | t }}</a>
      </div>
    </div>
  </div>


  <div class="hide form--small -mx-auto -px-xs" data-recover-form>
    {% form 'recover_customer_password', class: 'form' %}
    
      <header>
        {% if form.errors %}
          <h3>Oops</h3>
          {{ form.errors | default_errors }}
        {% else %}
          <h3>{{ 'customer.recover_password.title' | t }}</h3>
          <p>{{ 'customer.recover_password.subtext' | t }}</p>
        {% endif %}
      </header>

      {% if form.posted_successfully? %}
        <span class="hide" data-form-state></span>
      {% endif %}
      
      <div class="input-group">
        <label for="RecoverEmail" class="label-hidden">
          {{ 'customer.recover_password.email' | t }}
        </label>
        <input type="email"
          name="email"
          class="form-control"
          id="RecoverEmail"
          placeholder="{{ 'customer.recover_password.email' | t }}"
          spellcheck="false"
          autocomplete="off"
          autocapitalize="off">
      </div>

      <input type="submit" class="btn btn--full button" value="{{ 'customer.recover_password.submit' | t }}">
    {% endform %}
    
    <div class="-d-flex -f-row -justify-between">
      <div class="col col-xs-24 tac">
        <span class="tdu text-black small" data-recover-toggle>
          {{ 'customer.recover_password.cancel' | t }}
        </span>
      </div>
    </div>
  </div>
  
  {% if shop.checkout.guest_login %}
    <h2>{{ 'customer.login.guest_title' | t }}</h2>

    {% form 'guest_login' %}
      <input type="submit" class="button" value="{{ 'customer.login.guest_continue' | t }}">
    {% endform %}
  {% endif %}

</div>
