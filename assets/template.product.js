!function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],l=0,p=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(d&&d(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={7:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.shopifySlateJsonp=window.shopifySlateJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=u;i.push([304,0]),n()}({16:function(e,t,n){"use strict";n.r(t),n.d(t,"registered",(function(){return a})),n.d(t,"instances",(function(){return c})),n.d(t,"register",(function(){return u})),n.d(t,"unregister",(function(){return s})),n.d(t,"load",(function(){return d})),n.d(t,"unload",(function(){return l})),n.d(t,"extend",(function(){return p})),n.d(t,"getInstances",(function(){return f})),n.d(t,"getInstanceById",(function(){return h})),n.d(t,"isInstance",(function(){return m}));var r="data-section-id";function o(e,t){this.container=function(e){if(!(e instanceof Element))throw new TypeError("Theme Sections: Attempted to load section. The section container provided is not a DOM element.");if(null===e.getAttribute(r))throw new Error("Theme Sections: The section container provided does not have an id assigned to the "+r+" attribute.");return e}(e),this.id=e.getAttribute(r),this.extensions=[],Object.assign(this,function(e){if(void 0!==e&&"object"!=typeof e||null===e)throw new TypeError("Theme Sections: The properties object provided is not a valid");return e}(t)),this.onLoad()}o.prototype={onLoad:Function.prototype,onUnload:Function.prototype,onSelect:Function.prototype,onDeselect:Function.prototype,onBlockSelect:Function.prototype,onBlockDeselect:Function.prototype,extend:function(e){this.extensions.push(e);var t=Object.assign({},e);delete t.init,Object.assign(this,t),"function"==typeof e.init&&e.init.apply(this)}},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0});var i="data-section-type";window.Shopify=window.Shopify||{},window.Shopify.theme=window.Shopify.theme||{},window.Shopify.theme.sections=window.Shopify.theme.sections||{};var a=window.Shopify.theme.sections.registered=window.Shopify.theme.sections.registered||{},c=window.Shopify.theme.sections.instances=window.Shopify.theme.sections.instances||[];function u(e,t){if("string"!=typeof e)throw new TypeError("Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered");if(void 0!==a[e])throw new Error('Theme Sections: A section of type "'+e+'" has already been registered. You cannot register the same section type twice');function n(e){o.call(this,e,t)}return n.constructor=o,n.prototype=Object.create(o.prototype),n.prototype.type=e,a[e]=n}function s(e){(e=y(e)).forEach((function(e){delete a[e]}))}function d(e,t){e=y(e),void 0===t&&(t=document.querySelectorAll("["+i+"]")),t=b(t),e.forEach((function(e){var n=a[e];void 0!==n&&(t=t.filter((function(t){return!(m(t)||null===t.getAttribute(i)||t.getAttribute(i)===e&&(c.push(new n(t)),1))})))}))}function l(e){f(e).forEach((function(e){var t=c.map((function(e){return e.id})).indexOf(e.id);c.splice(t,1),e.onUnload()}))}function p(e,t){f(e).forEach((function(e){e.extend(t)}))}function f(e){var t=[];if(NodeList.prototype.isPrototypeOf(e)||Array.isArray(e))var n=e[0];return e instanceof Element||n instanceof Element?b(e).forEach((function(e){t=t.concat(c.filter((function(t){return t.container===e})))})):"string"!=typeof e&&"string"!=typeof n||y(e).forEach((function(e){t=t.concat(c.filter((function(t){return t.type===e})))})),t}function h(e){for(var t,n=0;n<c.length;n++)if(c[n].id===e){t=c[n];break}return t}function m(e){return f(e).length>0}function y(e){return"*"===e?e=Object.keys(a):"string"==typeof e?e=[e]:e.constructor===o?e=[e.prototype.type]:Array.isArray(e)&&e[0].constructor===o&&(e=e.map((function(e){return e.prototype.type}))),e.map((function(e){return e.toLowerCase()}))}function b(e){return NodeList.prototype.isPrototypeOf(e)&&e.length>0?e=Array.prototype.slice.call(e):NodeList.prototype.isPrototypeOf(e)&&0===e.length||null===e?e=[]:!Array.isArray(e)&&e instanceof Element&&(e=[e]),e}window.Shopify.designMode&&(document.addEventListener("shopify:section:load",(function(e){var t=e.detail.sectionId,n=e.target.querySelector('[data-section-id="'+t+'"]');null!==n&&d(n.getAttribute(i),n)})),document.addEventListener("shopify:section:unload",(function(e){var t=e.detail.sectionId,n=e.target.querySelector('[data-section-id="'+t+'"]');"object"==typeof f(n)[0]&&l(n)})),document.addEventListener("shopify:section:select",(function(e){var t=h(e.detail.sectionId);"object"==typeof t&&t.onSelect(e.detail.load)})),document.addEventListener("shopify:section:deselect",(function(e){var t=h(e.detail.sectionId);"object"==typeof t&&t.onDeselect()})),document.addEventListener("shopify:block:select",(function(e){var t=h(e.detail.sectionId);"object"==typeof t&&t.onBlockSelect(e.detail.blockId,e.detail.load)})),document.addEventListener("shopify:block:deselect",(function(e){var t=h(e.detail.sectionId);"object"==typeof t&&t.onBlockDeselect(e.detail.blockId)})))},304:function(e,t,n){"use strict";n(38),(0,n(16).load)("*")},38:function(e,t,n){"use strict";var r=s(n(32)),o=s(n(33)),i=n(48),a=n(46),c=n(7),u=n(16);function s(e){return e&&e.__esModule?e:{default:e}}var d="hide",l={submitButton:"[data-submit-button]",submitButtonText:"[data-submit-button-text]",comparePrice:"[data-compare-price]",comparePriceText:"[data-compare-text]",priceWrapper:"[data-price-wrapper]",imageWrapper:"[data-product-image-wrapper]",visibleImageWrapper:"[data-product-image-wrapper]:not(.hide)",imageWrapperById:function(e){return l.imageWrapper+"[data-image-id='"+e+"']"},productForm:"[data-product-form]",productPrice:"[data-product-price]",thumbnail:"[data-product-single-thumbnail]",thumbnailById:function(e){return"[data-thumbnail-id='"+e+"']"},thumbnailActive:"[data-product-single-thumbnail][aria-current]"};(0,u.register)("product",{onLoad:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!window.location.pathname.includes("bottle-membership")||window.location.pathname.includes("month")&&window.location.pathname.includes("months")||(window.location.href="/products/membership"),t=document.querySelector(l.productForm),e.next=4,this.getProductJson(t.dataset.productHandle);case 4:this.product=e.sent,this.productForm=new i.ProductForm(t,this.product,{onOptionChange:this.onFormOptionChange.bind(this)}),this.onThumbnailClick=this.onThumbnailClick.bind(this),this.onThumbnailKeyup=this.onThumbnailKeyup.bind(this),this.container.addEventListener("click",this.onThumbnailClick),this.container.addEventListener("keyup",this.onThumbnailKeyup);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),onUnload:function(){this.productForm.destroy(),this.removeEventListener("click",this.onThumbnailClick),this.removeEventListener("keyup",this.onThumbnailKeyup)},getProductJson:function(){var e=document.querySelector("[data-product-json]");return JSON.parse(e.innerHTML)},onFormOptionChange:function(e){var t=e.dataset.variant;this.renderImages(t),this.renderPrice(t),this.renderComparePrice(t),this.renderSubmitButton(t),this.updateBrowserHistory(t)},onThumbnailClick:function(e){var t=e.target.closest(l.thumbnail);t&&(e.preventDefault(),this.renderFeaturedImage(t.dataset.thumbnailId),this.renderActiveThumbnail(t.dataset.thumbnailId))},onThumbnailKeyup:function(e){if(13===e.keyCode&&e.target.closest(l.thumbnail)){var t=this.container.querySelector(l.visibleImageWrapper);(0,a.forceFocus)(t)}},renderSubmitButton:function(e){var t=this.container.querySelector(l.submitButton),n=this.container.querySelector(l.submitButtonText);e?e.available?(t.disabled=!1,n.innerText=theme.strings.addToCart):(t.disabled=!0,n.innerText=theme.strings.soldOut):(t.disabled=!0,n.innerText=theme.strings.unavailable)},renderImages:function(e){e&&null!==e.featured_image&&(this.renderFeaturedImage(e.featured_image.id),this.renderActiveThumbnail(e.featured_image.id))},renderPrice:function(e){var t=this.container.querySelector(l.productPrice);this.container.querySelector(l.priceWrapper).classList.toggle(d,!e),e&&(t.innerText=(0,c.formatMoney)(e.price,theme.moneyFormat))},renderComparePrice:function(e){if(e){var t=this.container.querySelector(l.comparePrice),n=this.container.querySelector(l.comparePriceText);t&&n&&(e.compare_at_price>e.price?(t.innerText=(0,c.formatMoney)(e.compare_at_price,theme.moneyFormat),n.classList.remove(d),t.classList.remove(d)):(t.innerText="",n.classList.add(d),t.classList.add(d)))}},renderActiveThumbnail:function(e){var t=this.container.querySelector(l.thumbnailById(e)),n=this.container.querySelector(l.thumbnailActive);t!==n&&(n.removeAttribute("aria-current"),t.setAttribute("aria-current",!0))},renderFeaturedImage:function(e){var t=this.container.querySelector(l.visibleImageWrapper),n=this.container.querySelector(l.imageWrapperById(e));t.classList.add(d),n.classList.remove(d)},updateBrowserHistory:function(e){var t=this.productForm.element.dataset.enableHistoryState;if(e&&"true"===t){var n=(0,i.getUrlWithVariant)(window.location.href,e.id);window.history.replaceState({path:n},"",n)}}})}});